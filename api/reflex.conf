# reflex configuration for hot reload

# Generate OpenAPI code when openapi.yaml changes
-r '\.yaml$' -s -- sh -c 'echo "OpenAPI file changed, regenerating..." && oapi-codegen -package gen -generate types,server,spec /app/resources/openapi/openapi.yaml > /app/gen/openapi.gen.go && echo "OpenAPI code regenerated"'

# Watch Go source files and restart the application
-r '(\.go|go\.mod)$' -s -- sh -c 'echo "Go files changed, restarting..." && go run /app/cmd/main.go'
